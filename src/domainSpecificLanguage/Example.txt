enumeration POSITION_AIGUILLE = { gauche, droite, inconnu};

variables
  POSITION_AIGUILLE position(inconnu);
  bool position_droite(false), position_gauche(false), test(true);
  bool zone_1_libre(true), zone_2_libre(true);
end

external_events 
  aiguille_contrôlée_droite, aiguille_contrôlée_gauche;
end

internal_events 
  toto1, toto2;
  toto3;
end

commands

end

machine Machine_1
    inconnu -> droite : on aiguille_contrôlée_droite when position is not droite do position := droite;
    gauche -> droite : on aiguille_contrôlée_droite when position is not droite do position := droite;
    inconnu -> gauche : on aiguille_contrôlée_gauche when position is droite or position is inconnu do position := gauche;
    droite -> gauche : on aiguille_contrôlée_gauche when position is droite or position is inconnu do position := gauche;
end

machine Machine_2
    inconnu -> droite : on aiguille_contrôlée_droite when position is not droite do position := droite;
    gauche -> droite : on aiguille_contrôlée_droite when position is not droite do position := droite;
    inconnu -> gauche : on aiguille_contrôlée_gauche when position is droite or position is inconnu do position := gauche;
    droite -> gauche : on aiguille_contrôlée_gauche when position is droite or position is inconnu do position := gauche;
end


