enumeration POSITION_AIGUILLE = { gauche, droite, inconnu};

variables
  POSITION_AIGUILLE position(inconnu);
  bool position_droite(false), position_gauche(false), test(true);
  bool zone_1_libre(true), zone_2_libre(true);
end

external_events 
  aiguille_contrôlée_droite, aiguille_contrôlée_gauche;
end

internal_events 
  toto1, toto2;
  toto3;
end

commands

end

template
    trans
        on aiguille_contrôlée_droite when true do position_droite := true, position_gauche := false;
        on aiguille_contrôlée_gauche when true do position_droite := false, position_gauche := true;
        on * when zone_1_libre and zone_2_libre do ;
end


transitions
  on aiguille_contrôlée_droite when true do position := droite;
  on aiguille_contrôlée_gauche when true do position := gauche;
end

